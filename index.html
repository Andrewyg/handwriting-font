<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SentyTEA 字體編輯器</title>
    <link rel="oreload" type="text/css" href="./custom-font.css" as="style" />
    <style type="text/css">
        /* Minimal styling to center the editor in this sample */

        /*
        * {
            font-family: 'SentyTEA';
            font-size:120%;
        }
        */

        body {
            padding: 30px;
            display: flex;
            align-items: center;
            text-align: center;

        }

        .container {
            margin: 0 auto;
        }
    </style>
    <script src="https://cdn.ckeditor.com/4.8.0/full-all/ckeditor.js"></script>
</head>

<body>
    <div class="container">
        <h1>
            <label for="editor1">SentyTEA 字體編輯器</label>
        </h1>
        <textarea id="editor1">
            <p>Download font <a href="https://github.com/Andrewyg/handwriting-fonts/blob/master/SentyTEA.ttf">here</a>.</p>
            <p>Website source <a href="https://github.com/Andrewyg/handwriting-fonts/tree/gh-pages">here</a>.</p>
            <p>More Senty's font <a href="http://www.sentyfont.com/">here</a>.</p>
            <p>Editor based on <a href="https://ckeditor.com/ckeditor-4/#document">CKEditor 4 document editor</a>.</p>
            <p>Customized settings by <a href="https://github.com/Andrewyg">Andrew</a>.</p>
            <p>Download a copy of this site by clicking <a href="https://github.com/Andrewyg/handwriting-fonts/archive/gh-pages.zip">here</a>.</p>
            -------------------------------------------
            <p>Donate monero to wallet: <b>463MNzqpckobCJsr1pDGWkERUTaDjdvXRjMM6MzCRH1wh9jWPmVuLoiZBoeqryqiECCtAL8DzxsPf5xrKKoDswyjPpTYmbu</b></p>
        </textarea>
        <br />
        <hr />
        <footer>
            <div><b>Save the document</b> icon made by
                <a href="https://www.flaticon.com/authors/smashicons" title="Smashicons">Smashicons</a> from
                <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by
                <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a>
            </div>
            <div><b>New document</b> icon made by <a href="https://www.flaticon.com/authors/zurb" title="Zurb">Zurb</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div>
        </footer>
    </div>
    <script>
        function getdata(newdoc) {
            var url = window.location.href;
            var name;
            if (newdoc) {
                name = "new";
            }
            else {
                name = "data";
            }
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }
        //document.onload = function() {
        console.log("Updating content...");
        //console.log(getdata()+":"+getdata(true));
        if (getdata()) {
            document.getElementById("editor1").innerHTML = getdata();
        } else if (getdata(true) == "true") {
            document.getElementById("editor1").innerHTML = "";
        }
        //};
        var editor = CKEDITOR.replace("editor1", {
            toolbar: [{
                name: "document",
                items: ["CustomNewFile", "CustomSave", "Print"]
            }, {
                name: "clipboard",
                items: ["Undo", "Redo"]
            }, {
                name: "styles",
                items: ["Format", "FontSize"]
            }, {
                name: "basicstyles",
                items: ["Bold", "Italic", "Underline", "Strike", "RemoveFormat", "CopyFormatting"]
            }, {
                name: "colors",
                items: ["TextColor", "BGColor"]
            }, {
                name: "align",
                items: ["JustifyLeft", "JustifyCenter", "JustifyRight", "JustifyBlock"]
            }, {
                name: "links",
                items: ["Link", "Unlink"]
            }, {
                name: "paragraph",
                items: ["NumberedList", "BulletedList", "-", "Outdent", "Indent", "-", "Blockquote"]
            }, {
                name: "insert",
                items: ["Image", "Table"]
            }, {
                name: "tools",
                items: ["Maximize"]
            }, {
                name: "editing",
                items: ["Scayt"]
            }],
            customConfig: "",
            disallowedContent: "img{width,height,float}",
            extraAllowedContent: "img[width,height,align]",
            extraPlugins: "tableresize,uploadimage,uploadfile",
            height: 800,
            contentsCss: ["custom-font.css", "contents.css", "mystyles.css"],
            bodyClass: "document-editor",
            format_tags: "p;h1;h2;h3;pre",
            removeDialogTabs: "image:advanced;link:advanced",
            stylesSet: [{
                name: "Marker",
                element: "span",
                attributes: {
                    class: "marker"
                }
            }, {
                name: "Cited Work",
                element: "cite"
            }, {
                name: "Inline Quotation",
                element: "q"
            }, {
                name: "Special Container",
                element: "div",
                styles: {
                    padding: "5px 10px",
                    background: "#eee",
                    border: "1px solid #ccc"
                }
            }, {
                name: "Compact table",
                element: "table",
                attributes: {
                    cellpadding: "5",
                    cellspacing: "0",
                    border: "1",
                    bordercolor: "#ccc"
                },
                styles: {
                    "border-collapse": "collapse"
                }
            }, {
                name: "Borderless Table",
                element: "table",
                styles: {
                    "border-style": "hidden",
                    "background-color": "#E6E6FA"
                }
            }, {
                name: "Square Bulleted List",
                element: "ul",
                styles: {
                    "list-style-type": "square"
                }
            }]
        });
        editor.addCommand("customsavecmd", {
            exec: function (e) {
                console.log("Saving...");
                var t = "https://" + window.location.hostname + "/handwriting-font/?data=" + e.getData();
                t = t.replace(/(?:\r\n|\r|\n)/g, "<br />");
                t = t.replace("<br /><br />", "<br />");
                //t = t.replace(/ /g, " ");
                console.log("Redirecting...");
                window.location.replace(t);
            }
        }), editor.ui.addButton("CustomSave", {
            label: "Save the document",
            command: "customsavecmd",
            toolbar: "document",
            icon: "https://andrewyg.github.io/handwriting-font/save-button.png"
        });
        editor.addCommand("customnewfilecmd", {
            exec: function (e) {
                console.log("Creating...");
                window.location.replace("https://andrewyg.github.io/handwriting-font/?new=true");
            }
        }), editor.ui.addButton("CustomNewFile", {
            label: "New document",
            command: "customnewfilecmd",
            toolbar: "document",
            icon: "https://andrewyg.github.io/handwriting-font/newfile-button.png"
        });
    </script>
</body>

</html>
